---
title: 重排和重绘
date: 2023-10-04
tags: 
 - 前端
 - 浏览器
 - css
categories: 前端
keywords: 
 - 重排
 - 重绘
---

### 概念

#### 重排
- 重新绘制元素的尺寸、布局，可能会**影响其他元素**。例如元素的高度变高，就会影响到平级的下一个元素。

#### 重绘
- 重新绘制元素外观发生变化，例如颜色、背景
- 元素的尺寸和布局不会发生变化，**不会影响其他元素**

### 区别
- 重排一定会发生重绘，重绘不一定发生重排
- 重排比重绘的影响更大，**开销更大**。

## 如何优化重排
- 集中处理样式
- 使用`display：none；`脱离文档流
- 使用`float：left/right`
- 利用`createElementFrame`元素，还没绘制到页面。
- 利用*BFC*特性，内部样式改变，不影响其他元素
- 优化动画，使用*CSS3*和`requestAnimationFrame`
- 避免频繁使用`resize`/`scroll`，多利用[[防抖和节流]]
